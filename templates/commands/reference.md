---
description: 智能推荐参考专栏
scripts:
  sh: ../../scripts/bash/reference.sh
  ps1: ../../scripts/powershell/reference.ps1
---

# /reference - 智能推荐系统 💡

> **核心理念**: 基于你的课程规格,从参考课程库中智能匹配最相关的优质专栏
> **目标**: 帮助你学习优秀课程的设计思路,获取灵感和参考

---

## 第一步: 运行脚本获取推荐 ⚠️ 必须执行

### 执行检查

```bash
# AI 操作: 运行脚本
bash scripts/bash/reference.sh
```

### 解析返回结果

脚本会返回 JSON 格式的状态:

- **如果 `status === "error"`**: 需要先运行 `/spec` 定义课程规格
- **如果 `action === "scan_needed"`**: 需要先扫描参考课程库
- **如果 `action === "recommend"`**: 继续推荐流程

---

## 第二步: 分析并推荐 Top 3 课程 ⚠️ 必须执行

### 如果返回 `action === "recommend"`

从返回的 JSON 中获取:
- `current_course` - 当前用户的课程信息
- `index_file` - 参考课程索引文件路径

### AI 任务: 智能匹配

1. **读取索引文件**:
   ```
   使用 Read 工具读取 index_file 指向的文件
   ```

2. **匹配算法**:
   - 领域匹配(50分): 相同领域优先
   - 关键词匹配(30分): 课程名称中的关键词重合度
   - 难度接近(20分): 同级别或相邻级别

3. **推荐展示**:

```
╔══════════════════════════════════════════════════════════╗
║                   💡 智能推荐                               ║
╚══════════════════════════════════════════════════════════╝

📋 当前课程: [course_name]
🏷️  领域: [field] | 难度: [level]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

基于你的课程规格,为你推荐以下专栏:

【1. 高度匹配 ⭐⭐⭐⭐⭐】[专栏名称]
  • 领域: [field] | 难度: [level] | 章节数: [count]
  • 匹配理由: 同领域同难度,课程结构完整
  • 参考价值:
    - 章节设计: [具体说明]
    - 教学方法: [具体说明]
    - 实践案例: [具体说明]

【2. 结构参考 ⭐⭐⭐⭐⚝】[专栏名称]
  • 领域: [field] | 难度: [level] | 章节数: [count]
  • 匹配理由: 相似主题,优秀的章节划分
  • 参考价值:
    - 进阶路径: [具体说明]
    - 内容组织: [具体说明]

【3. 方法学习 ⭐⭐⭐⚝⚝】[专栏名称]
  • 领域: [field] | 难度: [level] | 章节数: [count]
  • 匹配理由: 跨领域但教学方法值得借鉴
  • 参考价值:
    - 教学技巧: [具体说明]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

💡 下一步操作:

  1. /analyze [专栏名] - 深入分析某个专栏的结构
  2. /outline - 开始设计大纲(AI会自动参考推荐专栏)
  3. continue - 不使用参考,继续原创设计

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**⚠️ 等待用户选择**: AI 必须停在这里,等待用户输入。

---

## 第三步: 根据用户选择执行

### 如果用户输入 `/analyze [专栏名]`

说明用户想深入了解某个专栏,提示:

```
✅ 准备分析《[专栏名]》

请使用命令: /analyze [专栏名]
```

### 如果用户输入 `/outline`

说明用户准备设计大纲,提示:

```
✅ 进入大纲设计

在设计过程中,AI 会自动参考以上推荐的专栏结构。
请使用命令: /outline
```

### 如果用户输入 `continue`

说明用户不需要参考,直接原创:

```
✅ 理解,将以原创模式设计课程

你可以随时使用 /reference 查看推荐。
```

---

## 特殊情况处理

### 如果没有找到参考课程库

显示:

```
📚 参考课程库为空

请先添加你的专栏资料:

1. 将专栏 Markdown 文件放入: reference-courses/[专栏名]/
2. 运行扫描: bash scripts/bash/scan-references.sh
3. 再次运行: /reference

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

💡 提示: 参考课程库是可选的,你也可以直接原创设计。
```

### 如果匹配度都很低

至少推荐 1-2 个,并说明:

```
⚠️ 未找到高度匹配的专栏

以下专栏虽然领域不同,但教学方法值得学习:

[推荐1-2个专栏]

建议: 以原创为主,适当参考教学技巧。
```

---

## 重要提醒 ⚠️

### AI 的角色

你是**参考课程推荐顾问**,你的职责是:

1. 📊 智能匹配最相关的参考专栏
2. 💡 清晰说明每个专栏的参考价值
3. 🎯 帮助用户理解"为什么"推荐这些专栏
4. 🚫 不强制用户使用参考,尊重原创意愿

### 推荐原则

- **相关性优先**: 优先推荐同领域课程
- **质量优先**: 章节数多、结构完整的优先
- **多样性**: Top 3 应该有不同的参考角度
- **实用性**: 说明具体的参考价值,不泛泛而谈

---

**开始执行第一步** ⬇️
